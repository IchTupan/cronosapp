import{c as Ve,r,j as e,a as E,b as It,d as Pt,e as Be,u as $,A as Et,P as V,f as M,g as X,h as He,i as Rt,k as Mt,R as kt,S as Dt,F as Ot,D as At,C as Lt,l as Re,m as Vt,V as Bt,n as Ht,o as Ft,p as ke,q as Wt,s as Ut,t as Fe,v as Kt,w as $t,x as zt,y as Gt,z as qt,B as De,E as Ce,X as Oe,I as Yt,G as pe,H as Ae}from"./index-BgOYCuXd.js";/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Zt=Ve("chevron-up",Xt);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jt=Ve("save",Qt),We=r.forwardRef(({className:t,...s},o)=>e.jsx("textarea",{className:E("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:o,...s}));We.displayName="Textarea";function Le(t,[s,o]){return Math.min(o,Math.max(s,t))}function eo(t){const s=r.useRef({value:t,previous:t});return r.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var to=[" ","Enter","ArrowUp","ArrowDown"],oo=[" ","Enter"],ie="Select",[fe,ge,ro]=It(ie),[re,Lo]=Pt(ie,[ro,Be]),ve=Be(),[so,Z]=re(ie),[no,ao]=re(ie),Ue=t=>{const{__scopeSelect:s,children:o,open:l,defaultOpen:c,onOpenChange:h,value:i,defaultValue:a,onValueChange:n,dir:m,name:v,autoComplete:w,disabled:C,required:T,form:b}=t,u=ve(s),[g,S]=r.useState(null),[p,x]=r.useState(null),[k,D]=r.useState(!1),d=Ft(m),[y=!1,I]=ke({prop:l,defaultProp:c,onChange:h}),[R,B]=ke({prop:i,defaultProp:a,onChange:n}),H=r.useRef(null),A=g?b||!!g.closest("form"):!0,[U,F]=r.useState(new Set),z=Array.from(U).map(O=>O.props.value).join(";");return e.jsx(Wt,{...u,children:e.jsxs(so,{required:T,scope:s,trigger:g,onTriggerChange:S,valueNode:p,onValueNodeChange:x,valueNodeHasChildren:k,onValueNodeHasChildrenChange:D,contentId:Re(),value:R,onValueChange:B,open:y,onOpenChange:I,dir:d,triggerPointerDownPosRef:H,disabled:C,children:[e.jsx(fe.Provider,{scope:s,children:e.jsx(no,{scope:t.__scopeSelect,onNativeOptionAdd:r.useCallback(O=>{F(K=>new Set(K).add(O))},[]),onNativeOptionRemove:r.useCallback(O=>{F(K=>{const G=new Set(K);return G.delete(O),G})},[]),children:o})}),A?e.jsxs(ht,{"aria-hidden":!0,required:T,tabIndex:-1,name:v,autoComplete:w,value:R,onChange:O=>B(O.target.value),disabled:C,form:b,children:[R===void 0?e.jsx("option",{value:""}):null,Array.from(U)]},z):null]})})};Ue.displayName=ie;var Ke="SelectTrigger",$e=r.forwardRef((t,s)=>{const{__scopeSelect:o,disabled:l=!1,...c}=t,h=ve(o),i=Z(Ke,o),a=i.disabled||l,n=$(s,i.onTriggerChange),m=ge(o),v=r.useRef("touch"),[w,C,T]=xt(u=>{const g=m().filter(x=>!x.disabled),S=g.find(x=>x.value===i.value),p=ft(g,u,S);p!==void 0&&i.onValueChange(p.value)}),b=u=>{a||(i.onOpenChange(!0),T()),u&&(i.triggerPointerDownPosRef.current={x:Math.round(u.pageX),y:Math.round(u.pageY)})};return e.jsx(Et,{asChild:!0,...h,children:e.jsx(V.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":mt(i.value)?"":void 0,...c,ref:n,onClick:M(c.onClick,u=>{u.currentTarget.focus(),v.current!=="mouse"&&b(u)}),onPointerDown:M(c.onPointerDown,u=>{v.current=u.pointerType;const g=u.target;g.hasPointerCapture(u.pointerId)&&g.releasePointerCapture(u.pointerId),u.button===0&&u.ctrlKey===!1&&u.pointerType==="mouse"&&(b(u),u.preventDefault())}),onKeyDown:M(c.onKeyDown,u=>{const g=w.current!=="";!(u.ctrlKey||u.altKey||u.metaKey)&&u.key.length===1&&C(u.key),!(g&&u.key===" ")&&to.includes(u.key)&&(b(),u.preventDefault())})})})});$e.displayName=Ke;var ze="SelectValue",Ge=r.forwardRef((t,s)=>{const{__scopeSelect:o,className:l,style:c,children:h,placeholder:i="",...a}=t,n=Z(ze,o),{onValueNodeHasChildrenChange:m}=n,v=h!==void 0,w=$(s,n.onValueNodeChange);return X(()=>{m(v)},[m,v]),e.jsx(V.span,{...a,ref:w,style:{pointerEvents:"none"},children:mt(n.value)?e.jsx(e.Fragment,{children:i}):h})});Ge.displayName=ze;var lo="SelectIcon",qe=r.forwardRef((t,s)=>{const{__scopeSelect:o,children:l,...c}=t;return e.jsx(V.span,{"aria-hidden":!0,...c,ref:s,children:l||"▼"})});qe.displayName=lo;var co="SelectPortal",Ye=t=>e.jsx(Ut,{asChild:!0,...t});Ye.displayName=co;var te="SelectContent",Xe=r.forwardRef((t,s)=>{const o=Z(te,t.__scopeSelect),[l,c]=r.useState();if(X(()=>{c(new DocumentFragment)},[]),!o.open){const h=l;return h?He.createPortal(e.jsx(Ze,{scope:t.__scopeSelect,children:e.jsx(fe.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),h):null}return e.jsx(Qe,{...t,ref:s})});Xe.displayName=te;var W=10,[Ze,Q]=re(te),io="SelectContentImpl",Qe=r.forwardRef((t,s)=>{const{__scopeSelect:o,position:l="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:h,onPointerDownOutside:i,side:a,sideOffset:n,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:C,collisionPadding:T,sticky:b,hideWhenDetached:u,avoidCollisions:g,...S}=t,p=Z(te,o),[x,k]=r.useState(null),[D,d]=r.useState(null),y=$(s,f=>k(f)),[I,R]=r.useState(null),[B,H]=r.useState(null),A=ge(o),[U,F]=r.useState(!1),z=r.useRef(!1);r.useEffect(()=>{if(x)return Rt(x)},[x]),Mt();const O=r.useCallback(f=>{const[P,...L]=A().map(j=>j.ref.current),[_]=L.slice(-1),N=document.activeElement;for(const j of f)if(j===N||(j==null||j.scrollIntoView({block:"nearest"}),j===P&&D&&(D.scrollTop=0),j===_&&D&&(D.scrollTop=D.scrollHeight),j==null||j.focus(),document.activeElement!==N))return},[A,D]),K=r.useCallback(()=>O([I,x]),[O,I,x]);r.useEffect(()=>{U&&K()},[U,K]);const{onOpenChange:G,triggerPointerDownPosRef:q}=p;r.useEffect(()=>{if(x){let f={x:0,y:0};const P=_=>{var N,j;f={x:Math.abs(Math.round(_.pageX)-(((N=q.current)==null?void 0:N.x)??0)),y:Math.abs(Math.round(_.pageY)-(((j=q.current)==null?void 0:j.y)??0))}},L=_=>{f.x<=10&&f.y<=10?_.preventDefault():x.contains(_.target)||G(!1),document.removeEventListener("pointermove",P),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",P),document.addEventListener("pointerup",L,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",L,{capture:!0})}}},[x,G,q]),r.useEffect(()=>{const f=()=>G(!1);return window.addEventListener("blur",f),window.addEventListener("resize",f),()=>{window.removeEventListener("blur",f),window.removeEventListener("resize",f)}},[G]);const[be,de]=xt(f=>{const P=A().filter(N=>!N.disabled),L=P.find(N=>N.ref.current===document.activeElement),_=ft(P,f,L);_&&setTimeout(()=>_.ref.current.focus())}),we=r.useCallback((f,P,L)=>{const _=!z.current&&!L;(p.value!==void 0&&p.value===P||_)&&(R(f),_&&(z.current=!0))},[p.value]),ye=r.useCallback(()=>x==null?void 0:x.focus(),[x]),oe=r.useCallback((f,P,L)=>{const _=!z.current&&!L;(p.value!==void 0&&p.value===P||_)&&H(f)},[p.value]),ue=l==="popper"?_e:Je,se=ue===_e?{side:a,sideOffset:n,align:m,alignOffset:v,arrowPadding:w,collisionBoundary:C,collisionPadding:T,sticky:b,hideWhenDetached:u,avoidCollisions:g}:{};return e.jsx(Ze,{scope:o,content:x,viewport:D,onViewportChange:d,itemRefCallback:we,selectedItem:I,onItemLeave:ye,itemTextRefCallback:oe,focusSelectedItem:K,selectedItemText:B,position:l,isPositioned:U,searchRef:be,children:e.jsx(kt,{as:Dt,allowPinchZoom:!0,children:e.jsx(Ot,{asChild:!0,trapped:p.open,onMountAutoFocus:f=>{f.preventDefault()},onUnmountAutoFocus:M(c,f=>{var P;(P=p.trigger)==null||P.focus({preventScroll:!0}),f.preventDefault()}),children:e.jsx(At,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:h,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:e.jsx(ue,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:f=>f.preventDefault(),...S,...se,onPlaced:()=>F(!0),ref:y,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:M(S.onKeyDown,f=>{const P=f.ctrlKey||f.altKey||f.metaKey;if(f.key==="Tab"&&f.preventDefault(),!P&&f.key.length===1&&de(f.key),["ArrowUp","ArrowDown","Home","End"].includes(f.key)){let _=A().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(f.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(f.key)){const N=f.target,j=_.indexOf(N);_=_.slice(j+1)}setTimeout(()=>O(_)),f.preventDefault()}})})})})})})});Qe.displayName=io;var uo="SelectItemAlignedPosition",Je=r.forwardRef((t,s)=>{const{__scopeSelect:o,onPlaced:l,...c}=t,h=Z(te,o),i=Q(te,o),[a,n]=r.useState(null),[m,v]=r.useState(null),w=$(s,y=>v(y)),C=ge(o),T=r.useRef(!1),b=r.useRef(!0),{viewport:u,selectedItem:g,selectedItemText:S,focusSelectedItem:p}=i,x=r.useCallback(()=>{if(h.trigger&&h.valueNode&&a&&m&&u&&g&&S){const y=h.trigger.getBoundingClientRect(),I=m.getBoundingClientRect(),R=h.valueNode.getBoundingClientRect(),B=S.getBoundingClientRect();if(h.dir!=="rtl"){const N=B.left-I.left,j=R.left-N,J=y.left-j,ee=y.width+J,Se=Math.max(ee,I.width),Ne=window.innerWidth-W,je=Le(j,[W,Math.max(W,Ne-Se)]);a.style.minWidth=ee+"px",a.style.left=je+"px"}else{const N=I.right-B.right,j=window.innerWidth-R.right-N,J=window.innerWidth-y.right-j,ee=y.width+J,Se=Math.max(ee,I.width),Ne=window.innerWidth-W,je=Le(j,[W,Math.max(W,Ne-Se)]);a.style.minWidth=ee+"px",a.style.right=je+"px"}const H=C(),A=window.innerHeight-W*2,U=u.scrollHeight,F=window.getComputedStyle(m),z=parseInt(F.borderTopWidth,10),O=parseInt(F.paddingTop,10),K=parseInt(F.borderBottomWidth,10),G=parseInt(F.paddingBottom,10),q=z+O+U+G+K,be=Math.min(g.offsetHeight*5,q),de=window.getComputedStyle(u),we=parseInt(de.paddingTop,10),ye=parseInt(de.paddingBottom,10),oe=y.top+y.height/2-W,ue=A-oe,se=g.offsetHeight/2,f=g.offsetTop+se,P=z+O+f,L=q-P;if(P<=oe){const N=H.length>0&&g===H[H.length-1].ref.current;a.style.bottom="0px";const j=m.clientHeight-u.offsetTop-u.offsetHeight,J=Math.max(ue,se+(N?ye:0)+j+K),ee=P+J;a.style.height=ee+"px"}else{const N=H.length>0&&g===H[0].ref.current;a.style.top="0px";const J=Math.max(oe,z+u.offsetTop+(N?we:0)+se)+L;a.style.height=J+"px",u.scrollTop=P-oe+u.offsetTop}a.style.margin=`${W}px 0`,a.style.minHeight=be+"px",a.style.maxHeight=A+"px",l==null||l(),requestAnimationFrame(()=>T.current=!0)}},[C,h.trigger,h.valueNode,a,m,u,g,S,h.dir,l]);X(()=>x(),[x]);const[k,D]=r.useState();X(()=>{m&&D(window.getComputedStyle(m).zIndex)},[m]);const d=r.useCallback(y=>{y&&b.current===!0&&(x(),p==null||p(),b.current=!1)},[x,p]);return e.jsx(mo,{scope:o,contentWrapper:a,shouldExpandOnScrollRef:T,onScrollButtonChange:d,children:e.jsx("div",{ref:n,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(V.div,{...c,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});Je.displayName=uo;var po="SelectPopperPosition",_e=r.forwardRef((t,s)=>{const{__scopeSelect:o,align:l="start",collisionPadding:c=W,...h}=t,i=ve(o);return e.jsx(Lt,{...i,...h,ref:s,align:l,collisionPadding:c,style:{boxSizing:"border-box",...h.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});_e.displayName=po;var[mo,Me]=re(te,{}),Te="SelectViewport",et=r.forwardRef((t,s)=>{const{__scopeSelect:o,nonce:l,...c}=t,h=Q(Te,o),i=Me(Te,o),a=$(s,h.onViewportChange),n=r.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),e.jsx(fe.Slot,{scope:o,children:e.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:M(c.onScroll,m=>{const v=m.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:C}=i;if(C!=null&&C.current&&w){const T=Math.abs(n.current-v.scrollTop);if(T>0){const b=window.innerHeight-W*2,u=parseFloat(w.style.minHeight),g=parseFloat(w.style.height),S=Math.max(u,g);if(S<b){const p=S+T,x=Math.min(b,p),k=p-x;w.style.height=x+"px",w.style.bottom==="0px"&&(v.scrollTop=k>0?k:0,w.style.justifyContent="flex-end")}}}n.current=v.scrollTop})})})]})});et.displayName=Te;var tt="SelectGroup",[ho,xo]=re(tt),fo=r.forwardRef((t,s)=>{const{__scopeSelect:o,...l}=t,c=Re();return e.jsx(ho,{scope:o,id:c,children:e.jsx(V.div,{role:"group","aria-labelledby":c,...l,ref:s})})});fo.displayName=tt;var ot="SelectLabel",rt=r.forwardRef((t,s)=>{const{__scopeSelect:o,...l}=t,c=xo(ot,o);return e.jsx(V.div,{id:c.id,...l,ref:s})});rt.displayName=ot;var xe="SelectItem",[go,st]=re(xe),nt=r.forwardRef((t,s)=>{const{__scopeSelect:o,value:l,disabled:c=!1,textValue:h,...i}=t,a=Z(xe,o),n=Q(xe,o),m=a.value===l,[v,w]=r.useState(h??""),[C,T]=r.useState(!1),b=$(s,p=>{var x;return(x=n.itemRefCallback)==null?void 0:x.call(n,p,l,c)}),u=Re(),g=r.useRef("touch"),S=()=>{c||(a.onValueChange(l),a.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(go,{scope:o,value:l,disabled:c,textId:u,isSelected:m,onItemTextChange:r.useCallback(p=>{w(x=>x||((p==null?void 0:p.textContent)??"").trim())},[]),children:e.jsx(fe.ItemSlot,{scope:o,value:l,disabled:c,textValue:v,children:e.jsx(V.div,{role:"option","aria-labelledby":u,"data-highlighted":C?"":void 0,"aria-selected":m&&C,"data-state":m?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...i,ref:b,onFocus:M(i.onFocus,()=>T(!0)),onBlur:M(i.onBlur,()=>T(!1)),onClick:M(i.onClick,()=>{g.current!=="mouse"&&S()}),onPointerUp:M(i.onPointerUp,()=>{g.current==="mouse"&&S()}),onPointerDown:M(i.onPointerDown,p=>{g.current=p.pointerType}),onPointerMove:M(i.onPointerMove,p=>{var x;g.current=p.pointerType,c?(x=n.onItemLeave)==null||x.call(n):g.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:M(i.onPointerLeave,p=>{var x;p.currentTarget===document.activeElement&&((x=n.onItemLeave)==null||x.call(n))}),onKeyDown:M(i.onKeyDown,p=>{var k;((k=n.searchRef)==null?void 0:k.current)!==""&&p.key===" "||(oo.includes(p.key)&&S(),p.key===" "&&p.preventDefault())})})})})});nt.displayName=xe;var ne="SelectItemText",at=r.forwardRef((t,s)=>{const{__scopeSelect:o,className:l,style:c,...h}=t,i=Z(ne,o),a=Q(ne,o),n=st(ne,o),m=ao(ne,o),[v,w]=r.useState(null),C=$(s,S=>w(S),n.onItemTextChange,S=>{var p;return(p=a.itemTextRefCallback)==null?void 0:p.call(a,S,n.value,n.disabled)}),T=v==null?void 0:v.textContent,b=r.useMemo(()=>e.jsx("option",{value:n.value,disabled:n.disabled,children:T},n.value),[n.disabled,n.value,T]),{onNativeOptionAdd:u,onNativeOptionRemove:g}=m;return X(()=>(u(b),()=>g(b)),[u,g,b]),e.jsxs(e.Fragment,{children:[e.jsx(V.span,{id:n.textId,...h,ref:C}),n.isSelected&&i.valueNode&&!i.valueNodeHasChildren?He.createPortal(h.children,i.valueNode):null]})});at.displayName=ne;var lt="SelectItemIndicator",ct=r.forwardRef((t,s)=>{const{__scopeSelect:o,...l}=t;return st(lt,o).isSelected?e.jsx(V.span,{"aria-hidden":!0,...l,ref:s}):null});ct.displayName=lt;var Ie="SelectScrollUpButton",it=r.forwardRef((t,s)=>{const o=Q(Ie,t.__scopeSelect),l=Me(Ie,t.__scopeSelect),[c,h]=r.useState(!1),i=$(s,l.onScrollButtonChange);return X(()=>{if(o.viewport&&o.isPositioned){let a=function(){const m=n.scrollTop>0;h(m)};const n=o.viewport;return a(),n.addEventListener("scroll",a),()=>n.removeEventListener("scroll",a)}},[o.viewport,o.isPositioned]),c?e.jsx(ut,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:n}=o;a&&n&&(a.scrollTop=a.scrollTop-n.offsetHeight)}}):null});it.displayName=Ie;var Pe="SelectScrollDownButton",dt=r.forwardRef((t,s)=>{const o=Q(Pe,t.__scopeSelect),l=Me(Pe,t.__scopeSelect),[c,h]=r.useState(!1),i=$(s,l.onScrollButtonChange);return X(()=>{if(o.viewport&&o.isPositioned){let a=function(){const m=n.scrollHeight-n.clientHeight,v=Math.ceil(n.scrollTop)<m;h(v)};const n=o.viewport;return a(),n.addEventListener("scroll",a),()=>n.removeEventListener("scroll",a)}},[o.viewport,o.isPositioned]),c?e.jsx(ut,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:n}=o;a&&n&&(a.scrollTop=a.scrollTop+n.offsetHeight)}}):null});dt.displayName=Pe;var ut=r.forwardRef((t,s)=>{const{__scopeSelect:o,onAutoScroll:l,...c}=t,h=Q("SelectScrollButton",o),i=r.useRef(null),a=ge(o),n=r.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return r.useEffect(()=>()=>n(),[n]),X(()=>{var v;const m=a().find(w=>w.ref.current===document.activeElement);(v=m==null?void 0:m.ref.current)==null||v.scrollIntoView({block:"nearest"})},[a]),e.jsx(V.div,{"aria-hidden":!0,...c,ref:s,style:{flexShrink:0,...c.style},onPointerDown:M(c.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(l,50))}),onPointerMove:M(c.onPointerMove,()=>{var m;(m=h.onItemLeave)==null||m.call(h),i.current===null&&(i.current=window.setInterval(l,50))}),onPointerLeave:M(c.onPointerLeave,()=>{n()})})}),vo="SelectSeparator",pt=r.forwardRef((t,s)=>{const{__scopeSelect:o,...l}=t;return e.jsx(V.div,{"aria-hidden":!0,...l,ref:s})});pt.displayName=vo;var Ee="SelectArrow",bo=r.forwardRef((t,s)=>{const{__scopeSelect:o,...l}=t,c=ve(o),h=Z(Ee,o),i=Q(Ee,o);return h.open&&i.position==="popper"?e.jsx(Vt,{...c,...l,ref:s}):null});bo.displayName=Ee;function mt(t){return t===""||t===void 0}var ht=r.forwardRef((t,s)=>{const{value:o,...l}=t,c=r.useRef(null),h=$(s,c),i=eo(o);return r.useEffect(()=>{const a=c.current,n=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(n,"value").set;if(i!==o&&v){const w=new Event("change",{bubbles:!0});v.call(a,o),a.dispatchEvent(w)}},[i,o]),e.jsx(Bt,{asChild:!0,children:e.jsx("select",{...l,ref:h,defaultValue:o})})});ht.displayName="BubbleSelect";function xt(t){const s=Ht(t),o=r.useRef(""),l=r.useRef(0),c=r.useCallback(i=>{const a=o.current+i;s(a),function n(m){o.current=m,window.clearTimeout(l.current),m!==""&&(l.current=window.setTimeout(()=>n(""),1e3))}(a)},[s]),h=r.useCallback(()=>{o.current="",window.clearTimeout(l.current)},[]);return r.useEffect(()=>()=>window.clearTimeout(l.current),[]),[o,c,h]}function ft(t,s,o){const c=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,h=o?t.indexOf(o):-1;let i=wo(t,Math.max(h,0));c.length===1&&(i=i.filter(m=>m!==o));const n=i.find(m=>m.textValue.toLowerCase().startsWith(c.toLowerCase()));return n!==o?n:void 0}function wo(t,s){return t.map((o,l)=>t[(s+l)%t.length])}var yo=Ue,gt=$e,So=Ge,No=qe,jo=Ye,vt=Xe,Co=et,bt=rt,wt=nt,_o=at,To=ct,yt=it,St=dt,Nt=pt;const me=yo,he=So,ae=r.forwardRef(({className:t,children:s,...o},l)=>e.jsxs(gt,{ref:l,className:E("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[s,e.jsx(No,{asChild:!0,children:e.jsx(Fe,{className:"h-4 w-4 opacity-50"})})]}));ae.displayName=gt.displayName;const jt=r.forwardRef(({className:t,...s},o)=>e.jsx(yt,{ref:o,className:E("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Zt,{className:"h-4 w-4"})}));jt.displayName=yt.displayName;const Ct=r.forwardRef(({className:t,...s},o)=>e.jsx(St,{ref:o,className:E("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Fe,{className:"h-4 w-4"})}));Ct.displayName=St.displayName;const le=r.forwardRef(({className:t,children:s,position:o="popper",...l},c)=>e.jsx(jo,{children:e.jsxs(vt,{ref:c,className:E("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...l,children:[e.jsx(jt,{}),e.jsx(Co,{className:E("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Ct,{})]})}));le.displayName=vt.displayName;const Io=r.forwardRef(({className:t,...s},o)=>e.jsx(bt,{ref:o,className:E("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...s}));Io.displayName=bt.displayName;const ce=r.forwardRef(({className:t,children:s,...o},l)=>e.jsxs(wt,{ref:l,className:E("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(To,{children:e.jsx(Kt,{className:"h-4 w-4"})})}),e.jsx(_o,{children:s})]}));ce.displayName=wt.displayName;const Po=r.forwardRef(({className:t,...s},o)=>e.jsx(Nt,{ref:o,className:E("-mx-1 my-1 h-px bg-muted",t),...s}));Po.displayName=Nt.displayName;var Eo="Label",_t=r.forwardRef((t,s)=>e.jsx(V.label,{...t,ref:s,onMouseDown:o=>{var c;o.target.closest("button, input, select, textarea")||((c=t.onMouseDown)==null||c.call(t,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));_t.displayName=Eo;var Tt=_t;const Ro=$t("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=r.forwardRef(({className:t,...s},o)=>e.jsx(Tt,{ref:o,className:E(Ro(),t),...s}));Y.displayName=Tt.displayName;const Mo=[{valor:"trabalho",rotulo:"💼 Trabalho",cor:"bg-amber-500/20 text-amber-400 border-amber-500/30"},{valor:"estudos",rotulo:"📚 Estudos",cor:"bg-blue-500/20 text-blue-400 border-blue-500/30"},{valor:"pessoal",rotulo:"🌱 Pessoal",cor:"bg-green-500/20 text-green-400 border-green-500/30"},{valor:"saúde",rotulo:"💪 Saúde",cor:"bg-rose-500/20 text-rose-400 border-rose-500/30"},{valor:"outro",rotulo:"🔍 Outro",cor:"bg-purple-500/20 text-purple-400 border-purple-500/30"}],ko=[{valor:"baixa",rotulo:"Baixa",className:"bg-blue-500/20 text-blue-400 border-blue-500/30"},{valor:"média",rotulo:"Média",className:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"},{valor:"alta",rotulo:"Alta",className:"bg-rose-500/20 text-rose-400 border-rose-500/30"}],Do=[0,5,10,15,20,25,30,35,40,45,50,55],Oo=Array.from({length:5},(t,s)=>s),Vo=({desafio:t,onClose:s,onSave:o})=>{var k,D;const l=!!t,[c,h]=r.useState(!1),{theme:i}=zt(),a=i==="dark",[n,m]=r.useState({id:(t==null?void 0:t.id)||Date.now().toString(),titulo:(t==null?void 0:t.titulo)||"",descricao:(t==null?void 0:t.descricao)||"",categoria:(t==null?void 0:t.categoria)||"trabalho",prioridade:(t==null?void 0:t.prioridade)||"média",ciclos_previstos:(t==null?void 0:t.ciclos_previstos)||4,ciclos_concluidos:(t==null?void 0:t.ciclos_concluidos)||0,concluido:(t==null?void 0:t.concluido)||!1,data_criacao:(t==null?void 0:t.data_criacao)||Gt(new Date,"yyyy-MM-dd"),data_conclusao:(t==null?void 0:t.data_conclusao)||null,tempo_foco:25,tempo_pausa_curta:(t==null?void 0:t.tempo_pausa_curta)||5,tempo_pausa_longa:(t==null?void 0:t.tempo_pausa_longa)||15,horas:0,minutos:25}),[v,w]=r.useState(!1),[C,T]=r.useState({});r.useEffect(()=>{if(l&&t){const d=Math.floor((t.ciclos_previstos||4)*25/60),y=(t.ciclos_previstos||4)*25%60;m(I=>({...I,horas:d,minutos:y===0?25:y}))}},[l,t]);const b=(d,y)=>{m(I=>({...I,[d]:y})),d==="titulo"&&(y.toString().trim()?T(I=>{const R={...I};return delete R.titulo,R}):T(I=>({...I,titulo:"O título é obrigatório"})))},u=()=>{const d=(n.horas||0)*60+(n.minutos||25);return Math.max(1,Math.ceil(d/25))},g=()=>{const d=u(),y=25*d,R=Math.max(0,d-1)*(n.tempo_pausa_curta||5),H=Math.floor((d-1)/4)*(n.tempo_pausa_longa||15),A=y+R+H,U=Math.floor(A/60),F=A%60;return{horas:U,minutos:F,totalMinutos:A}},S=d=>{var I;d.preventDefault();const y={};if((I=n.titulo)!=null&&I.trim()||(y.titulo="O título é obrigatório"),Object.keys(y).length>0){T(y);return}w(!0);try{const R=u(),B={...n,ciclos_previstos:R,tempo_foco:25,categoria:n.categoria,prioridade:n.prioridade};delete B.horas,delete B.minutos,o(B)}catch(R){console.error("Erro ao salvar desafio:",R)}finally{w(!1)}},p=g(),x=u();return e.jsxs("div",{className:E("rounded-xl shadow-2xl backdrop-blur-xl border overflow-hidden max-w-lg w-full mx-auto",a?"glass-morphism border-white/20 bg-gray-900/50":"bg-white/80 border-gray-200/50 shadow-xl"),children:[e.jsxs("div",{className:E("flex justify-between items-center p-4 border-b",a?"border-white/10 bg-gradient-to-r from-accent/30 to-purple-500/20":"border-gray-200/50 bg-gradient-to-r from-green-50 to-blue-50"),children:[e.jsx("h3",{className:"text-xl font-semibold text-theme-primary flex items-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(qt,{className:"h-5 w-5 text-accent animate-pulse"}),"Editar Desafio"]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-5 w-5 text-accent animate-pulse"}),"Novo Desafio"]})}),e.jsx(Ce,{variant:"ghost",size:"icon",onClick:s,className:"text-theme-secondary hover:bg-white/10 hover:text-rose-400 transition-all duration-300",children:e.jsx(Oe,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:S,className:E("p-5 space-y-4",a?"bg-gradient-to-b from-transparent to-accent/5":"bg-gradient-to-b from-gray-50/50 to-white/90"),children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs(Y,{htmlFor:"titulo",className:E("text-theme-primary mb-2 block font-medium flex items-center",C.titulo?"text-rose-400":""),children:[e.jsx("span",{className:"text-accent mr-1",children:"*"})," Título do Desafio"]}),e.jsx(Yt,{id:"titulo",value:n.titulo,onChange:d=>b("titulo",d.target.value),required:!0,placeholder:"O que você quer completar?",className:E("glass-input text-theme-primary placeholder:text-theme-secondary/70 transition-all duration-300","border-2 focus:border-accent/70 focus:ring-2 focus:ring-accent/30",a?"border-white/20":"border-gray-300")}),C.titulo&&e.jsx("p",{className:"text-xs text-rose-400 mt-1 font-medium",children:C.titulo})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"categoria",className:"text-theme-primary mb-2 block font-medium",children:"Categoria"}),e.jsxs(me,{value:n.categoria,onValueChange:d=>b("categoria",d),children:[e.jsx(ae,{className:"glass-input border-white/20 text-theme-primary focus:ring-2 focus:ring-accent/30 focus:border-accent/70 transition-all duration-300",children:e.jsx(he,{placeholder:"Selecione..."})}),e.jsx(le,{className:"glass-morphism border-white/20 text-theme-primary backdrop-blur-xl",children:Mo.map(d=>e.jsx(ce,{value:d.valor,className:"focus:bg-white/10 dark:focus:text-white focus:text-slate-900",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{variant:"outline",className:E(d.cor,"px-2 py-0.5"),children:d.rotulo.split(" ")[0]}),e.jsx("span",{children:d.rotulo.split(" ")[1]})]})},d.valor))})]})]}),e.jsxs("div",{children:[e.jsx(Y,{htmlFor:"prioridade",className:"text-theme-primary mb-2 block font-medium",children:"Prioridade"}),e.jsxs(me,{value:n.prioridade,onValueChange:d=>b("prioridade",d),children:[e.jsx(ae,{className:"glass-input border-white/20 text-theme-primary focus:ring-2 focus:ring-accent/30 focus:border-accent/70 transition-all duration-300",children:e.jsx(he,{placeholder:"Selecione..."})}),e.jsx(le,{className:"glass-morphism border-white/20 text-theme-primary backdrop-blur-xl",children:ko.map(d=>e.jsx(ce,{value:d.valor,className:"focus:bg-white/10 dark:focus:text-white focus:text-slate-900",children:e.jsx(pe,{variant:"outline",className:E(d.className,"px-2 py-0.5"),children:d.rotulo})},d.valor))})]})]})]}),e.jsxs("div",{className:"mb-4 glass-card p-4 rounded-lg border border-white/10 shadow-inner bg-gradient-to-br from-white/5 to-transparent",children:[e.jsxs(Y,{className:"text-theme-primary mb-3 block font-medium flex items-center",children:[e.jsx(Ae,{className:"h-4 w-4 text-accent mr-2"}),"Quanto tempo você vai dedicar?"]}),e.jsxs("div",{className:"flex gap-3 mb-3",children:[e.jsx("div",{className:"flex-1",children:e.jsxs(me,{value:(k=n.horas)==null?void 0:k.toString(),onValueChange:d=>b("horas",parseInt(d)),children:[e.jsx(ae,{className:"glass-input border-white/20 text-theme-primary focus:ring-2 focus:ring-accent/30 focus:border-accent/70 transition-all duration-300",children:e.jsx(he,{placeholder:"Horas"})}),e.jsx(le,{className:"glass-morphism border-white/20 text-theme-primary backdrop-blur-xl",children:Oo.map(d=>e.jsxs(ce,{value:d.toString(),className:"focus:bg-white/10 dark:focus:text-white focus:text-slate-900",children:[d," ",d===1?"hora":"horas"]},d))})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs(me,{value:(D=n.minutos)==null?void 0:D.toString(),onValueChange:d=>b("minutos",parseInt(d)),children:[e.jsx(ae,{className:"glass-input border-white/20 text-theme-primary focus:ring-2 focus:ring-accent/30 focus:border-accent/70 transition-all duration-300",children:e.jsx(he,{placeholder:"Minutos"})}),e.jsx(le,{className:"glass-morphism border-white/20 text-theme-primary backdrop-blur-xl max-h-[300px]",children:Do.filter(d=>n.horas>0||d>0).map(d=>e.jsxs(ce,{value:d.toString(),className:"focus:bg-white/10 dark:focus:text-white focus:text-slate-900",children:[d," minutos"]},d))})]})})]}),e.jsxs("div",{className:"flex items-center justify-between glass-input rounded-lg px-4 py-2.5 mt-3 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-4 w-4 text-accent"}),e.jsx("span",{className:"text-sm text-theme-primary",children:"Ciclos estimados:"})]}),e.jsxs(pe,{variant:"outline",className:"bg-accent/20 text-accent border-accent/30 px-2.5 py-0.5",children:[x," ciclos de 25 min"]})]}),e.jsxs("div",{className:"flex items-center justify-between glass-input rounded-lg px-4 py-2.5 mt-2 border border-white/10",children:[e.jsx("span",{className:"text-sm text-theme-primary",children:"Tempo total com pausas:"}),e.jsx(pe,{variant:"outline",className:"bg-blue-500/20 text-blue-400 border-blue-500/30 px-2.5 py-0.5",children:p.horas>0?`${p.horas}h ${p.minutos}min`:`${p.minutos}min`})]})]}),e.jsx("div",{className:"pt-2",children:e.jsx("button",{type:"button",onClick:()=>h(!c),className:"text-accent text-sm flex items-center gap-1.5 hover:text-accent/80 transition-colors",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Oe,{className:"h-3.5 w-3.5"})," Ocultar opções avançadas"]}):e.jsxs(e.Fragment,{children:[e.jsx(De,{className:"h-3.5 w-3.5"})," Mostrar opções avançadas"]})})}),c&&e.jsxs("div",{className:"space-y-4 rounded-lg p-4 glass-card bg-gradient-to-br from-white/5 to-transparent mt-2 border border-white/10 shadow-inner",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx(Y,{htmlFor:"descricao",className:"text-theme-primary mb-2 block font-medium",children:"Descrição (opcional)"}),e.jsx(We,{id:"descricao",value:n.descricao,onChange:d=>b("descricao",d.target.value),placeholder:"Detalhes sobre o que você pretende realizar",className:E("glass-input text-theme-primary placeholder:text-theme-secondary/70 min-h-[80px] transition-all duration-300","border-2 focus:border-accent/70 focus:ring-2 focus:ring-accent/30",a?"border-white/20":"border-gray-300")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[e.jsxs("div",{children:[e.jsxs(Y,{htmlFor:"tempo_pausa_curta",className:"text-theme-primary mb-1 block font-medium flex justify-between",children:[e.jsx("span",{children:"Pausa curta"}),e.jsxs("span",{className:"text-accent text-xs font-semibold",children:[n.tempo_pausa_curta," min"]})]}),e.jsx("div",{className:"mt-2 px-1",children:e.jsx("input",{id:"tempo_pausa_curta",type:"range",min:"1",max:"15",step:"1",value:n.tempo_pausa_curta,onChange:d=>b("tempo_pausa_curta",parseInt(d.target.value)),className:E("w-full slider-range",a?"dark-slider":"light-slider")})}),e.jsxs("div",{className:"flex justify-between text-xs text-theme-secondary mt-1 px-1",children:[e.jsx("span",{children:"1 min"}),e.jsx("span",{children:"15 min"})]})]}),e.jsxs("div",{children:[e.jsxs(Y,{htmlFor:"tempo_pausa_longa",className:"text-theme-primary mb-1 block font-medium flex justify-between",children:[e.jsx("span",{children:"Pausa longa"}),e.jsxs("span",{className:"text-accent text-xs font-semibold",children:[n.tempo_pausa_longa," min"]})]}),e.jsx("div",{className:"mt-2 px-1",children:e.jsx("input",{id:"tempo_pausa_longa",type:"range",min:"5",max:"30",step:"5",value:n.tempo_pausa_longa,onChange:d=>b("tempo_pausa_longa",parseInt(d.target.value)),className:E("w-full slider-range",a?"dark-slider":"light-slider")})}),e.jsxs("div",{className:"flex justify-between text-xs text-theme-secondary mt-1 px-1",children:[e.jsx("span",{children:"5 min"}),e.jsx("span",{children:"30 min"})]})]})]})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t border-white/10 mt-4",children:[e.jsx(Ce,{type:"button",onClick:s,variant:"outline",className:"glass-button border-white/20 text-theme-primary hover:bg-white/10 transition-all duration-300",children:"Cancelar"}),e.jsx(Ce,{type:"submit",disabled:v||Object.keys(C).length>0,className:E("bg-green-500 hover:bg-green-600 border-green-400 text-white transition-all duration-300",v||Object.keys(C).length>0?"opacity-70 cursor-not-allowed":"hover:shadow-green-500/30 hover:shadow-lg"),children:v?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"animate-spin h-4 w-4 mr-2 border-b-2 border-white rounded-full"}),"Salvando..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx(Jt,{className:"w-4 h-4 mr-2"}),l?"Atualizar":"Criar"]})})]})]})]})};export{Vo as default};
